<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Admin - Indian Doodh Dairy</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div style="max-width:1000px;margin:30px auto;padding:20px;display:flex;align-items:center;gap:12px;">
    <img src="/images/Logo.jpg" alt="Logo" style="width:56px;height:56px;border-radius:50%;object-fit:cover;border:3px solid #fff;box-shadow:0 3px 10px rgba(0,0,0,0.1)"> 
    <h1 style="color:#0B3B5C;margin:0;">Admin Panel - Indian Doodh Dairy</h1>

    <section style="margin:20px 0;padding:15px;background:#fff;border-radius:8px;">
      <h3>Login</h3>
      <div style="display:flex;gap:10px;align-items:center;">
        <input id="adminUser" placeholder="username" style="padding:10px;border:1px solid #ddd;border-radius:6px;">
        <input id="adminPass" type="password" placeholder="password" style="padding:10px;border:1px solid #ddd;border-radius:6px;">
        <button onclick="login()" style="padding:10px 18px;background:#138808;color:#fff;border:none;border-radius:6px">Login</button>
      </div>
    </section>
      <p style="text-align: center; margin-top: 20px; color: #666; font-size: 0.9rem;">
        Admin username and password are stored on the server (dev). Please use your credentials.
      </p>
      

    <section style="margin:20px 0;padding:15px;background:#fff;border-radius:8px;" id="adminArea" hidden>
      <h3>Store Settings</h3>
      <div style="margin-bottom:20px;padding:12px;border:1px solid #ddd;border-radius:8px;background:#f9f9f9;">
        <h4>Business Hours</h4>
        <div style="display:flex;gap:15px;align-items:center;flex-wrap:wrap;">
          <label>Opening Time:</label>
          <input type="time" id="openingTime" value="09:00" style="padding:8px;border:1px solid #ddd;border-radius:6px;">
          <label>Closing Time:</label>
          <input type="time" id="closingTime" value="22:00" style="padding:8px;border:1px solid #ddd;border-radius:6px;">
          <button onclick="saveStoreSettings()" style="background:#138808;color:#fff;padding:8px 12px;border-radius:6px;border:none">Save Settings</button>
        </div>
        <div style="margin-top:10px;color:#666;font-size:0.9rem;">
          Current: <span id="currentHours">9:00 AM - 10:00 AM</span>
        </div>
      </div>
      
      <h3>Logo Management</h3>
      <div style="margin-bottom:20px;padding:12px;border:1px solid #ddd;border-radius:8px;background:#f9f9f9;">
        <div style="display:flex;gap:15px;align-items:center;">
          <img id="currentLogo" src="/images/Logo.jpg" alt="Current Logo" style="width:80px;height:80px;border-radius:50%;object-fit:cover;border:3px solid #fff;box-shadow:0 3px 10px rgba(0,0,0,0.1)">
          <div>
            <input type="file" id="logoUpload" accept="image/*" style="display:none;" onchange="changeLogo(this)">
            <button onclick="document.getElementById('logoUpload').click()" style="background:#138808;color:#fff;padding:8px 12px;border-radius:6px;border:none">Change Logo</button>
            <div style="margin-top:5px;color:#666;font-size:0.8rem;">Upload new logo image</div>
          </div>
        </div>
      </div>

      <h3>Website Control</h3>
      <div style="margin-bottom:20px;padding:12px;border:1px solid #ddd;border-radius:8px;background:#f9f9f9;">
        <h4>Site Management</h4>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:15px;">
          <button onclick="toggleWebsite()" id="toggleSiteBtn" style="background:#138808;color:#fff;padding:10px;border-radius:6px;border:none">Disable Website</button>
          <button onclick="clearAllData()" style="background:#dc3545;color:#fff;padding:10px;border-radius:6px;border:none">Clear All Data</button>
          <button onclick="exportData()" style="background:#007bff;color:#fff;padding:10px;border-radius:6px;border:none">Export Data</button>
          <button onclick="resetToDefaults()" style="background:#6c757d;color:#fff;padding:10px;border-radius:6px;border:none">Reset to Defaults</button>
        </div>
        
        <h5>Store Information</h5>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px;">
          <input type="text" id="storeName" placeholder="Store Name" style="padding:8px;border:1px solid #ddd;border-radius:6px;">
          <input type="text" id="storePhone" placeholder="Store Phone" style="padding:8px;border:1px solid #ddd;border-radius:6px;">
          <input type="text" id="storeAddress" placeholder="Store Address" style="grid-column:1/3;padding:8px;border:1px solid #ddd;border-radius:6px;">
        </div>
        <button onclick="saveStoreInfo()" style="background:#138808;color:#fff;padding:8px 12px;border-radius:6px;border:none">Save Store Info</button>
      </div>

      <h3>Products</h3>
      <div style="margin-bottom:12px;display:flex;gap:12px;flex-wrap:wrap;">
        <input id="search" placeholder="Search" style="padding:8px;border:1px solid #ddd;border-radius:6px;">
        <select id="filterCategory"><option value="">All</option><option value="milk">milk</option><option value="paneer">paneer</option><option value="ghee">ghee</option><option value="sweets">sweets</option></select>
        <button onclick="loadProducts()">Refresh</button>
        <button onclick="showCreate()">New Product</button>
        <button onclick="logout()" style="margin-left:auto;background:#dc3545;color:#fff;padding:8px 12px;border:none;border-radius:6px">Logout</button>
      </div>

      <div id="productsTable"></div>

      <div id="createForm" style="margin-top:20px;display:none;padding:12px;border:1px dashed #ddd;border-radius:8px;background:#fafafa;">
        <h4>Create Product</h4>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
          <input id="p_name" placeholder="name">
          <select id="p_category"><option value="milk">milk</option><option value="paneer">paneer</option><option value="ghee">ghee</option><option value="sweets">sweets</option></select>
          <input id="p_price" placeholder="price">
          <input id="p_mrp" placeholder="mrp">
          <input id="p_unit" placeholder="unit">
          <input id="p_image" placeholder="imageUrl">
          <textarea id="p_desc" placeholder="description" style="grid-column:1/3"></textarea>
        </div>
        <div style="margin-top:10px">
          <button onclick="createProduct()" style="background:#138808;color:#fff;padding:8px 12px;border-radius:6px;border:none">Create</button>
          <button onclick="hideCreate()" style="margin-left:8px">Cancel</button>
        </div>
      </div>
    </section>

    <div id="toast" style="position:fixed;right:20px;top:20px"></div>
  </div>

  <script src="/admin.js"></script>
</body>
</html>
